被盗的iPhone是如何一步步被黑客解锁的？

iPhone到底安不安全？这个梗已经讨论了很久了。而我今天要告诉大家的是，
就算你的iPhone 6s设置了六位数字密码，并且还有touch ID的保护，黑客同样能够解锁你的手机。
｜故事背景
就在三天之前，有一名用户告诉我们他的iPhone 6s被偷了。就在他的手机被盗之后不久，那个小偷不仅重置了他的一些在线服务密码和Apple ID，而且还伪装成他来与银行联系，并尝试重置他银行账号的密码。不过幸运的是，犯罪分子并没有成功取出他银行卡中的钱，但是犯罪分子为什么可以重置他Apple ID的密码呢？他的iPhone可是有密码和指纹保护的啊！
为了让大家更加清楚地了解目前所发生的事情，我们为大家收集并整理出了以下信息：
a)这是一次有针对性的攻击事件吗？我的意思是，攻击者是否在此之前曾经通过网络钓鱼等方式获取到了这位用户的凭证，然后又专门来盗取他的iPhone手机？
这种可能性非常的低。根据我们收集到的数据，在手机被盗之前，在这名用户的身上并没有发生任何的异常事件。
b)包含用户信息的文件或者网络服务账号在此之前是否被盗了呢？因为对于攻击者而言，用户的姓名或者电子邮件地址也是非常重要的数据。
事实证明，这种事情也没有在这名用户的身上发生过。
c)在手机被盗多久之后犯罪分子就解锁了iPhone和SIM卡呢？
大约在手机被盗两小时之后。
d)iPhone的解锁密码是否为弱密码？
并不是。六位数字密码并不是那么好猜到的，而且解锁密码与这名用户的车牌号以及其他的个人信息没有任何的关系。
考虑到此次事件如此的蹊跷，于是我们决定对这一事件进行深入地分析，让我们来看看这台iPhone到底是如何被解锁的吧！
｜事件时间轴
这名用户的手机在10月14日的下午被盗了，于是我们对事件的脉络进行了梳理，具体信息如下所示：
a)14:00-手机被盗；
b)16:03-用户激活了iPhone的“丢失模式”，并且通过iCloud远程清除了手机中的数据；
c)16:28-用户Google邮箱的密码被修改了；
d)16:37-用户收到了一封邮件，邮件中包含一条重置Apple ID密码的链接；
e)16:38-用户又收到了一封邮件，这封邮件告诉用户他的Apple ID密码已经被修改；
f)16:43-用户收到了一封新邮件，邮件通知称iCloud已经定位到了这台iPhone手机；
g)16:43-用户收到了一封新邮件，邮件通知称iCloud已经清除了这台iPhone手机中的数据；
正如我们所看到的，用户Google账号和Apple账号的密码已经被犯罪分子重置了。 在没有密码的情况下，想要解锁iPhone手机几乎是不可能的。那么犯罪分子到底做了什么？
为此，我们重新对事件信息进行了整理：
1）如果你要修改Google账号的密码，
首先你得要知道用户电子邮箱的地址
。那么犯罪分子是怎么得到用户邮箱地址的呢？
我们假设用户手机在锁屏状态下显示的信息不会泄漏用户的邮箱地址，所以犯罪分子不可能从手机屏幕上获取用户Gmail邮箱的地址。
2）
可以通过设备的IMEI码来获取用户的Apple ID吗
？
我们在网上搜索了一番，并且发现了一些付费服务，这些服务可以根据IMEI码来查找Apple ID。但是这些服务并不是在线操作的，而且通常需要24至48小时才能够拿到我们所需要的数据。但是犯罪分子只花了两小时就拿到了用户的Apple ID，所以这与我们的情况不符。
3）
可以通过手机号码来找出用户的Gmail账号吗？
我们又进行了一次搜索，发现
Google提供了几种方法来帮助用户找回邮箱账号
。例如与账号绑定的手机号或者用户姓名。由于在这个场景下，犯罪分子可以轻易地获取到用户的手机号，而通过手机号来查找用户的姓名其实也并不难。所以，我们打算从这里开始入手......
｜情景假设
为了弄清楚事情的真相，这名用户又买了一台新的iPhone 6s手机，并且将这台新手机设置成与被盗手机一样（包括Google账号和Apple账号），然后给我们来进行实验。这样一来，我们就可以最大程度地还原真实的场景了。
为了获取手机号，我们取出了iPhone中的SIM卡，然后将其插入了另外一台手机中。与真实场景相同，SIM卡并没有设置PIN码。在另外一台手机中，我们可以轻易获取到用户的手机号码。
在获取到了用户手机号之后，我们就可以让搜索引擎来帮助查找用户的姓名了。但不幸的是，我们什么也没找到。
接下来，我们便尝试用手机号在Facebook上进行查找。如果用户的Facebook账号绑定了手机的话，我们就可以直接通过手机号来查找到这名用户了。
与刚才一样，我们还是什么也没找到
。
｜WhatsApp+锁屏通知=攻击成功
我突然想起来，如果你在一个WhatsApp的讨论组里，然后收到了一条陌生人发来的信息，那么信息上方将会显示用户姓名和手机号（
例如9999-9999～Mike Arnold
）。所以，如果我们可以用这台锁屏的iPhone来向WhatsApp讨论组发送信息的话，我们就可以获取到用户的姓名了。
首先，我们要确保这台iPhone手机会
在锁屏界面显示WhatsApp的通知信息
，于是我们向其发送了一条信息，这条信息也正如我们期待的那样显示在了锁屏界面中。接下来，我们还可以使用3D touch功能直接在锁屏界面上回复消息。
准备完毕之后，我们就要创建一个讨论组，然后把这位用户手机号所绑定的WhatsApp账号拉进讨论组里。由于加入讨论组是不需要进行验证的，所以进入讨论组之后，iPhone锁屏界面上便会出现了一条新的通知消息，以告诉用户他新加入了一个讨论组。当然了，讨论组中还有一些用于测试的其他用户。
接下来，我们在讨论组中发了一条信息，这条信息也成功在iPhone的锁屏界面上显示了。然后我们利用3D touch功能来回复这条信息，这样就成功获取到了用户的姓名。
下一步要做的，就是将我们所获取到的信息（手机号和用户姓名）填入Google的表单中，然后获取到用户的电子邮箱地址。
｜修改Google账号的密码
现在，我们就可以重现攻击者修改Google邮箱密码的操作了。操作步骤如下：
1.  进入Google邮箱的登录界面；
2.  选择“忘记密码”选项；
3.  在“你所能记住的最后一个密码”中随便填写一些数据；
4.  接下来，Google会要求你输入与该邮箱绑定的手机号码。在这一步中，Google会显示部分手机号码，虽然只有两个数字，但也足够帮助我们验证手机号的正确性了。
5.  输入手机号码，Google会通过短信向iPhone发送一个验证码；
6.  填写完验证码之后，Google便会要求我们设置新的邮箱密码；
很简单吧？
其实只要犯罪分子拿到了你的手机或者SIM卡、以及你的姓名，他们就可以在几分钟之内重置你Gmail邮箱的密码。
｜ 修改Apple ID的密码
接下来，我们
使用获取到的Google邮箱地址作为Apple ID的账号来尝试进行登录
。与此前一样，先选择“忘记密码”选项，然后系统会将密码重置链接通过邮件发送至你的邮箱。剩下的操作就非常简单了，想必大家也都知道。最后，我们成功地修改了用户苹果账号的密码。
｜解锁“新的”iPhone
当iPhone丢失之后，很多用户可能会远程锁定并擦除iPhone中的数据。但是当iPhone数据被远程清除之后，iPhone会要求你输入此前设备所绑定的Apple ID和密码，如果犯罪分子知道你的Apple ID和密码的话，他们就可以
将这台iPhone当作一台全新的手机来使用了
。
｜总结
随着智能手机的功能越来越多，在方便了用户的同时，我们也应该学会如何保护自己的安全。为此，我们给大家提供了以下建议：
1.  禁止手机在锁屏状态下显示通知的详细信息；
2.  为SIM卡设置PIN码；
3.  如果可以的话，开启网络服务的双因素身份验证功能。
